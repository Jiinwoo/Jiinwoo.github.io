<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[JiinWoo's Blog | Feed]]></title><description><![CDATA[어디서 주워들은거 끄적이기]]></description><link>https://jiinwoo.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 23 Nov 2020 13:44:52 GMT</lastBuildDate><item><title><![CDATA[효율적으로 언어 배우기]]></title><description><![CDATA[…]]></description><link>https://jiinwoo.github.io/tech-of-supporting-coding_1/</link><guid isPermaLink="false">https://jiinwoo.github.io/tech-of-supporting-coding_1/</guid><pubDate>Mon, 23 Nov 2020 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;본 포스팅은 니시오 히로카즈의 &apos;코딩을 지탱하는 기술&apos; 을 읽은 뒤 쓰는 글입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;비교를-통한-배움&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EA%B5%90%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B0%B0%EC%9B%80&quot; aria-label=&quot;비교를 통한 배움 permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#%EB%B9%84%EA%B5%90%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B0%B0%EC%9B%80&quot; aria-label=&quot;비교를 통한 배움 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비교를 통한 배움&lt;/h2&gt;
&lt;p&gt;여러가지 언어를 배울 때 어떤점이 공통적으로 사용되고 어느 부분이 어떻게 다른지를 알게 된다면 다른 언어를 배울 때도 쉽게 익힐 수 있다고 한다.
책의 예제에서는 참 거짓 값을 C, Ruby, Java 예시를 들었다.&lt;/p&gt;
&lt;p&gt;나는 현재 타입스크립트, 코틀린을 배우고 있으니 이 언어들의 참 거짓 값을 알아보자. &lt;/p&gt;
&lt;h3 id=&quot;typescript-javascript&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typescript-javascript&quot; aria-label=&quot;typescript javascript permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#typescript-javascript&quot; aria-label=&quot;typescript javascript permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;typescript (javascript)&lt;/h3&gt;
&lt;deckgo-highlight-code language=&quot;typescript&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;if(undefined || null || 0 || -0 || NaN || &amp;quot;&amp;quot;) {

}else {
  
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;javascript는 위의 7개 값이 if문 안으로 들어 갔을 때 false가 된다. &lt;/p&gt;
&lt;h3 id=&quot;kotlinjava&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#kotlinjava&quot; aria-label=&quot;kotlinjava permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#kotlinjava&quot; aria-label=&quot;kotlinjava permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;kotlin(java)&lt;/h3&gt;
&lt;deckgo-highlight-code language=&quot;kotlin&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;fun main() {
    println(&amp;quot;Hello, world!!!&amp;quot;)
    var boo: Boolean = true
    if(boo) {
        println(&amp;quot;asdasd&amp;quot;)
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;사실 코틀린은 자바 상위 호환이기 때문에 boolean 타입 외에는 컴파일이 안된다.&lt;/p&gt;
&lt;h2 id=&quot;역사를-통한-배움&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%97%AD%EC%82%AC%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B0%B0%EC%9B%80&quot; aria-label=&quot;역사를 통한 배움 permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#%EC%97%AD%EC%82%AC%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B0%B0%EC%9B%80&quot; aria-label=&quot;역사를 통한 배움 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;역사를 통한 배움&lt;/h2&gt;
&lt;p&gt;언어가 가진 각 기능들은 어떠한 문제들을 해결하려고 나왔다.
역으로 생각해 보면 어떠한 흐름을 따라 만들어졌는지 알게 된다면 해당 언어의 기능을 보다 자세히 알 수 있을것이다.&lt;/p&gt;
&lt;p&gt;그리고 특정 언어에 국한된 지식보다 보다 보편적인 지식이 중요하다고 생각된다.&lt;br&gt;
&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring in Action 5판 3챕터 에러]]></title><description><![CDATA[최근에 스프링 인 액션…]]></description><link>https://jiinwoo.github.io/spring-in-action-5-3ch-bug/</link><guid isPermaLink="false">https://jiinwoo.github.io/spring-in-action-5-3ch-bug/</guid><pubDate>Wed, 10 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;최근에 스프링 인 액션 5 책을 보고있는데 문제점이 한두개가 아니다. 책 소개글에 이전 버전에 나타난 여러 문제들을 해결했다고
나와있는데 전혀 그런 것 같지 않다. 가뜩이나 스프링 잘못해서 사서 공부하는데 해결하는데 시간이 더 많이 든다.. ㅠㅠ&lt;/p&gt;
&lt;p&gt;또 예제 리파지토리는 실행해보고 올린것인지 의문이 든다. &lt;/p&gt;
&lt;p&gt;우선 첫 번째로 헤맸던 것은&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@Slf4j
@Controller
@RequestMapping(&amp;quot;/design&amp;quot;)
@SessionAttributes(&amp;quot;order&amp;quot;)
public class DesignTacoController {

	private final IngredientRepository ingredientRepo;
	
	private TacoRepository tacoRepo;

	@Autowired
	public DesignTacoController(
			IngredientRepository ingredientRepo, TacoRepository tacoRepo) {
	  this.ingredientRepo = ingredientRepo;
	  this.tacoRepo = tacoRepo;
	}

	@GetMapping
	  public String showDesignForm(Model model) {
	    
		List&amp;lt;Ingredient&amp;gt; ingredients = new ArrayList&amp;lt;&amp;gt;();
	    ingredientRepo.findAll().forEach(i -&amp;gt; ingredients.add(i));

	    Type[] types = Ingredient.Type.values();
	    for (Type type : types) {
	      model.addAttribute(type.toString().toLowerCase(),
	          filterByType(ingredients, type));
	    }

	    model.addAttribute(&amp;quot;taco&amp;quot;, new Taco());

	    return &amp;quot;design&amp;quot;;
	  }
	
	  private List&amp;lt;Ingredient&amp;gt; filterByType(
	      List&amp;lt;Ingredient&amp;gt; ingredients, Type type) {
	    return ingredients
	              .stream()
	              .filter(x -&amp;gt; x.getType().equals(type))
	              .collect(Collectors.toList());
	  }

	  @ModelAttribute(name = &amp;quot;order&amp;quot;)
	  public Order order() {
	    return new Order();
	  }

	  @ModelAttribute(name = &amp;quot;taco&amp;quot;)
	  public Taco taco() {
	    return new Taco();
	  }

	  @PostMapping
	  public String processDesign(
			  @Valid Taco design, 
			  Errors errors, @ModelAttribute Order order) {
		  if (errors.hasErrors()) {
			 return &amp;quot;design&amp;quot;;
		  }

		  Taco saved = tacoRepo.save(design);
		  order.addDesign(saved);

		  return &amp;quot;redirect:/orders/current&amp;quot;;
	  }

}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Jpub/SpringInAction5&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/Jpub/SpringInAction5&lt;/a&gt; 원 제작자 측이 아닌 출판사 측에서 만든 리포를 가져왔다. ch3/ch03-jdcb부분이다
처음에 GET메소드로 thymeleaf페이지를 가져오고 submit form을 하면 재료가 전달되서 POST메소드에서 처리하는 간단한
컨트롤러이다. &lt;/p&gt;
&lt;p&gt;하지만 POST메소드를 보면 @Valid 를 통해 검증하고 에러가 존재하면 다시 design 페이지를 반환하는데 이 때
재료 model객체가 사라져 다음과 같이 표시된다.
&lt;img src=&quot;https://user-images.githubusercontent.com/23472139/50333580-9e58e480-0527-11e9-801a-c5aa57def341.JPG&quot;&gt;
우선 이것을 해결하는 방법은 &lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;    @ModelAttribute
    public void addIngredientToModel(Model model){
        List&amp;lt;Ingredient&amp;gt; ingredients = new ArrayList&amp;lt;&amp;gt;();
        ingredientRepo.findAll().forEach(i -&amp;gt; ingredients.add(i));

        Type[] types = Ingredient.Type.values();
        for (Type type : types) {
            model.addAttribute(type.toString().toLowerCase(),
                    filterByType(ingredients, type));
        }
    }
    @GetMapping
    public String showDesignForm(Model model) {
        model.addAttribute(&amp;quot;taco&amp;quot;, new Taco());
        return &amp;quot;design&amp;quot;;
    }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음과 같이 리팩토링 한다. 메소드에 @ModelAttribute를 붙임으로서 GET메소드에만 model에 적용 되지 않고 해당 컨트롤러
전체에 적용되도록 한다.&lt;/p&gt;
&lt;p&gt;이제 두번째 문제를 보자.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@Repository
public class JdbcTacoRepository implements TacoRepository {

	private JdbcTemplate jdbc;

	  public JdbcTacoRepository(JdbcTemplate jdbc) {
	    this.jdbc = jdbc;
	  }

	  @Override
	  public Taco save(Taco taco) {
	    long tacoId = saveTacoInfo(taco);
	    taco.setId(tacoId);
	    
	    // 스프링 Converter를 우리가 구현한 IngredientByIdConverter의 Convert() 메서드가 이때 자동 실행된다.
	    for (Ingredient ingredient : taco.getIngredients()) { 
	      saveIngredientToTaco(ingredient, tacoId);
	    }

	    return taco;
	  }

	  private long saveTacoInfo(Taco taco) {
	    taco.setCreatedAt(new Date());
	    PreparedStatementCreator psc =
	        new PreparedStatementCreatorFactory(
	            &amp;quot;insert into Taco (name, createdAt) values (?, ?)&amp;quot;,
	            Types.VARCHAR, Types.TIMESTAMP
	        ).newPreparedStatementCreator(
	           Arrays.asList(
	               taco.getName(),
	               new Timestamp(taco.getCreatedAt().getTime())));

	    KeyHolder keyHolder = new GeneratedKeyHolder();
	    jdbc.update(psc, keyHolder);

	    return keyHolder.getKey().longValue();
	  }

	  private void saveIngredientToTaco(
	          Ingredient ingredient, long tacoId) {
	    jdbc.update(
	        &amp;quot;insert into Taco_Ingredients (taco, ingredient) &amp;quot; +
	        &amp;quot;values (?, ?)&amp;quot;,
	        tacoId, ingredient.getId());
	  }

}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;위 코드를 보면 IDE 에서 다음과 같이 알려준다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bccb03b5acd2bebdffae981dda6036b1/4e6ec/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 33.108108108108105%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSklEQVQoz42P226bUBBF+ZlWiXHV2IC52CTENpyD4XBNYmwpUf//J1bnEEeK1Jc+LO0ZzWjPHsdbrVj7GyHgYeXxlO04nw3H4zNRFBEnMXEsGt/U9klCKLMwCgnDDVmWsc8Lng85znJxx8OvBevfrugdabplOL/Tv10ZpnfGy4foJ+PlDy/XD96miWEcaboBM06Y/pW27zFti5NuEx7ThCSWa5uAXZqiuwuqm4QredWiLHVLXhoO6sRRleRadKYWKoqymnvH823sgHLv0WmfSmdU3Qv1jarpaQdJML6i60ZMa4qTmfWLQrCH9kUpLy+XrNYej9uAptyh1AHTjZxMNy+qyqDEoLihquYftGBT7guN47ou1vR+4fLj5z1+EHGSVKW8qG+UYj7zVX+bzXPhM6EY+sFGTAKser7P7ilDi2EuF+3S/2LftSn/AouT/GUAQje8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;1&quot;
        src=&quot;/static/bccb03b5acd2bebdffae981dda6036b1/fcda8/1.png&quot;
        srcset=&quot;/static/bccb03b5acd2bebdffae981dda6036b1/12f09/1.png 148w,
/static/bccb03b5acd2bebdffae981dda6036b1/e4a3f/1.png 295w,
/static/bccb03b5acd2bebdffae981dda6036b1/fcda8/1.png 590w,
/static/bccb03b5acd2bebdffae981dda6036b1/4e6ec/1.png 827w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
에엥 난 책에있는대로 했는데 NPE가 발생한다고? 물론 출판사 깃헙 리포에도 똑같다.
에러를 검색해보니 &lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;    private long saveTacoInfo(Taco taco) {
        taco.setCreatedAt(LocalDateTime.now());
        PreparedStatementCreatorFactory pscf = new PreparedStatementCreatorFactory(
                &amp;quot;Insert into Taco(name, createdAt) values(?,?)&amp;quot;, Types.VARCHAR, Types.TIMESTAMP);
        pscf.setReturnGeneratedKeys(Boolean.TRUE); // 추가
        PreparedStatementCreator psc = pscf.newPreparedStatementCreator(
                Arrays.asList(taco.getName(), Timestamp.valueOf(taco.getCreatedAt())));
        KeyHolder keyHolder = new GeneratedKeyHolder();
        jdbc.update(psc, keyHolder);
        return keyHolder.getKey().longValue();
    }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음과 같이 하면 된다.&lt;/p&gt;
&lt;p&gt;아직 책 초반인데 시간을 너무많이 잡아먹는 것 같다. 힘들다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ref, Mobile Chrome input css shadow수정]]></title><description><![CDATA[appearance 오늘 Next.js 반응형 작업을 하던 도중 input 이 Mobile chrome 에서 이상하게 나타나는 경우가 있었다. 
여러가지 구글링을 해본결과 다음 프로퍼티를 추가해주면 된다. 설명을 보니 OS…]]></description><link>https://jiinwoo.github.io/2020-06-07TIL/</link><guid isPermaLink="false">https://jiinwoo.github.io/2020-06-07TIL/</guid><pubDate>Thu, 04 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;appearance&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#appearance&quot; aria-label=&quot;appearance permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#appearance&quot; aria-label=&quot;appearance permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;appearance&lt;/h2&gt;
&lt;p&gt;오늘 Next.js 반응형 작업을 하던 도중 input 이 Mobile chrome 에서 이상하게 나타나는 경우가 있었다.
여러가지 구글링을 해본결과 다음 프로퍼티를 추가해주면 된다. 설명을 보니 OS종속적인 스타일링을 해준다는 것 같다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;css&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;.thing {
   -webkit-appearance: none;
   -moz-appearance:    none;
   appearance:         none;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h2 id=&quot;forwardref&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#forwardref&quot; aria-label=&quot;forwardref permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#forwardref&quot; aria-label=&quot;forwardref permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ForwardRef&lt;/h2&gt;
&lt;p&gt;Next js에서 라우팅을 담당하는 next/link 모듈이 있다. 하지만 반응형을 적용할 때 제대로 라우팅이 되지않는 현상이 발생했다.
그 이유로 예상하는것은 Link 컴포넌트 하위에 useMediaQuery(&quot;(max-width : 480px)&quot;)를 이용해 두가지로 나누어 렌더링했는데
하나만 적용 된 걸로보아 첫 번째 새로고침 또는 페이지 렌더링을 할 때 onClick 이벤트를 붙이고 matches가 동작해
반응형 내에서는 onClick 이벤트가 안붙는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 132px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76a0b7a4a016b956a864675aaadb3683/06c4e/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.72727272727273%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACgUlEQVQ4y4VUa3OaUBD1//+P9ge0zadOE40mPuILRVBEEBFRQCIakId4uhck1UwyZWa5ey/s2d2zB0pJkuB0OiElM1cmzKWOuSpBW1ioVP6g8lRHGEZg1/l8xv+uEgNkdjgcsoOUguI4yfxTmr6/WIBdgzL/o5XYzbZt9Hs9GJoGfsSj12tiIoqoVaswVus8EYFfB35ZYRzH75vA97Hfe3j1XOy8HTzywzD8NLAAZokyyi5rBlhkdBwHlmUhfA3gbw+I/Qgx8efqDrz1Dm/2Hlt9i9DPOTUMIzPW4WazyeJvAFfGCksaitKQMClz0AUdi6GKzo8muDsO6osElZvDs3K+uT5Hg6ugXC6jSvTUn5//tZxeDeCmtVOeLE2Sq8N8eSOKXl0X2y2jyIO7824rXOgLyNMpnCmVT7KxlTVM2UJySuC7Fpy5BG+jwFJkuIaK48HLgdc8DHGAvbO5HYrLshEPy/YcWnsKratiXJsgOOywIwCDq0F6+A65fg9bk2DJBGIqcGZNaFwTS7HzecvMi+IzEio8oc3xGCKizYnO2VlMDvNjeuaTEoIgzlhICtkULSszBePJGLOujkFdhiQY0E0fMt/DqNmA2HzC4OkRfKMGsdvH8LEMkfSrSgL45gumovxBh0FA1QSQB0sK0DGbWMSrDVWeQmjV0f71DYNGC2KHhM+LmIlTyKKEmdCH0B7CtN7yT48JMoqiQrHFEBEco6zlm6kjb7cw9pwZey2hg1KmP/opjIZD9AY8aq0WVTbA3c/f4HptdPojVB/uIQo8ut0OJGVxyZte4C92ztes5fw7TbEyTWy9PQ47G9VyDUN+DC2TkoSNZVNiA5bjfvljYPYXA1RwAc59zPUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;1&quot;
        src=&quot;/static/76a0b7a4a016b956a864675aaadb3683/06c4e/1.png&quot;
        srcset=&quot;/static/76a0b7a4a016b956a864675aaadb3683/06c4e/1.png 132w&quot;
        sizes=&quot;(max-width: 132px) 100vw, 132px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt; &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 147px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0d10b6cba49cc9abba114701b129e69f/a70ce/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 130.6122448979592%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADtElEQVRIx51V25LaRhDd78mvJg/5kNgvqVQlqdjeXTvseoHVjbtAoDsCJAQSSKDLSc+AWNhL7GSqumYkjU6fPt3TcxWGIXzfRxRFZGsEwRLRaokyWaI1CfGHtMIHJcRfzOTjfLQPrdXBlNVpfbXZbFCWJQf1gwBsTNcFRKtAnJaId0BSkOVAepwrW9P3KAXfE9F6nZS4StMU2+0WtVoNjabAAX/+XOKHnwDJLuDqA0zGY5j6BEO1z800JmQ637sKA7RbMgJ/wZ+vGFie5xjTT/OFz182zQI/Xpcw/D0WMxeW7cBxHFiWBcMw4Lou2RRZlnGpbPrGcDggC5kB/t/B5KpmhnOVJAl2ux1nGAQ+MXHh2AZ004Y+mhArG97UwczzOCtbt+A69M6b8b0VWAXMAff7PfzFAt1uB4Igot+T8Pf9A2o3X9Dp9tFWBLTbbUiSDFmQ0ajfQdXGUNURCg5UnkBPGsYUepEX3MuOHDwfWfYkS3EmEQc628cZskz3+310hBZurj+h3qyj1niEoCi4vfmMXucR9boCSXjEx08fac81omR3puFZyIxh9cCyttkmh3W+J+YFUu6QyZLxTDJjJM6TgdcYKsRG62nEtAN9PMCgo7/Y/FaGLwCZx6I4aLdahpjPZ1gsZkg2+0udXrE3GbKyGY1GiOMIlmlg6jpUrFNo9M60nFfFf2twQKbdks6xY9tQex0KX4IotvHu/Tv0Ve2/AVZlw7pOUeTYEzhjXOQZEtL2+Wn4Nwl4HVaFraoqbDqn7U6bGDbRkhWIkgSGUZLGJ7Bv8LwoGwbMSiQjdvkZyPOsMolYZbCZ/cMiquZTyGzYdEa14QhGg5IhU/cx51Dvumj9qcAQNIzFCfZJxhvx/f09REHAY7PJD0W32+X94IJhNaLFCrEfYbvaInQD+KaPTbg9lBJtTYkNq4B+X8VwpFEjMTHWdUypYVzUYcAyTWUSTdcEECGwAgqrQJFtyIlLDjxyYCMOZgfP+xCBoZLzOeK5hyWtLwBZpmeuB/0rhS1qGNSGmBkuB7PkOwxufoEhN+CNu1g5YwKQYChfoUsP0Bq3WFiTJ0CW7ZcdJqvScZwoUcVB73yXID99f1bYSZKiR71QarXxQB1FERr47dffIbdauL39AkUWIYgiJtb00L6OEV3WJJ76YbUh3aVgq020omxTSCSB5025FMzizfb7Cpv3w14P+kRHfzCgBuFhZJhwpt53dZgXhc37YBzDNOlWo5ttTRd9Vx3CO96CxTc6zPn4BwIxv8VYsO86AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;2&quot;
        src=&quot;/static/0d10b6cba49cc9abba114701b129e69f/a70ce/2.png&quot;
        srcset=&quot;/static/0d10b6cba49cc9abba114701b129e69f/a70ce/2.png 147w&quot;
        sizes=&quot;(max-width: 147px) 100vw, 147px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;같은 컴포넌트이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;해결방법은 Link 컴포넌트에 passHref prop을 true로 주고 styledComponent로 Custom Anchor 태그를 만들어 적용하면 matches에
따라 onClick 이벤트가 붙지않고 a 태그로 라우팅이 가능하다!&lt;/p&gt;
&lt;p&gt;다음은 next/link doc에 나온 방법이다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import Link from &amp;#39;next/link&amp;#39;
import styled from &amp;#39;styled-components&amp;#39;

// This creates a custom component that wraps an &amp;lt;a&amp;gt; tag
const RedLink = styled.a`
  color: red;
`

function NavLink({ href, name }) {
  // Must add passHref to Link
  return (
    &amp;lt;Link href={href} passHref&amp;gt;
      &amp;lt;RedLink&amp;gt;{name}&amp;lt;/RedLink&amp;gt;
    &amp;lt;/Link&amp;gt;
  )
}

export default NavLink&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음과같이하면 라우팅이 onClick으로 들어가지 않고 &lt;a&gt; 태그로 된다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot, React 사용해 Trello 클론코딩하기 ( 4 )]]></title><description><![CDATA[Provider 구현체 DaoAuthenticationProvider UserDetailsService 구현체 CustomUserDetailsService User Entity 및 UserPrincipal Authentication Handler…]]></description><link>https://jiinwoo.github.io/springboot-react-trello_4/</link><guid isPermaLink="false">https://jiinwoo.github.io/springboot-react-trello_4/</guid><pubDate>Wed, 03 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;ol&gt;
&lt;li&gt;&lt;del&gt;Provider 구현체 DaoAuthenticationProvider&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;del&gt;UserDetailsService 구현체 CustomUserDetailsService&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;del&gt;User Entity 및 UserPrincipal&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;Authentication Handler 등록&lt;/li&gt;
&lt;li&gt;header인증을 위한 BasicAuthenticationFilter 구현체 JwtAuthorizationFilter&lt;/li&gt;
&lt;li&gt;AuthenticationEntryPoint 구현체 CustomAuthenticationEntryPoint&lt;/li&gt;
&lt;li&gt;ErrorResponseDTO&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;authentication-handler&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#authentication-handler&quot; aria-label=&quot;authentication handler permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#authentication-handler&quot; aria-label=&quot;authentication handler permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authentication Handler&lt;/h3&gt;
&lt;p&gt;깜빡하고 authentication 과정이후 토큰내려주는 Handler를 안만들었었다.&lt;/p&gt;
&lt;p&gt;AbstractAuthenticationProcessingFilter는 내부적으로 인증이 성공하면 successfulAuthentication,
실패하면 unsuccessfulAuthentication를 호출한다. 그래서 successfulAuthentication메소드안의 내용을 어떻게 커스텀하면
토큰을 내려줄 수 있을 것 같다. &lt;/p&gt;
&lt;p&gt;우선 토큰을 만드는데 있어 JWT 라이브러리를 사용할거니까 추가해주자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;gradle&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;implementation group: &amp;#39;com.auth0&amp;#39;, name: &amp;#39;java-jwt&amp;#39;, version: &amp;#39;3.1.0&amp;#39;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;그리고 JWT key값, 유효기간 같은 세부설정 정보를 담는 클래스를 하나만들자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;public class JwtProperties {
    public static final String SECRET = &amp;quot;jinwooking&amp;quot;;
    public static final int EXPIRATION_TIME = 864000000; // 10 days
    public static final String TOKEN_PREFIX = &amp;quot;Bearer &amp;quot;;
    public static final String HEADER_STRING = &amp;quot;Authorization&amp;quot;;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;위에서 successfulAuthentication를 호출한다고 하는데 이는 또 내부적으로 successHandler의 onAuthenticationSuccess를 호출
하는것을 알 수 있는데 이 때 successHandler를 setSuccessHandler 메소드로 바꿔줄 수 있다. AuthenticationSuccessHandler 인터페이스를
구현 한 클래스라면 handler로 등록 가능하다 failureHandler도 마찬가지니까 한꺼번에 SecurityHandler로 작성하겠다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@Component
public class SecurityHandler implements AuthenticationSuccessHandler, AuthenticationFailureHandler {
    @Autowired
    ObjectMapper objectMapper;
    @Override
    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {
        response.setContentType(MediaType.APPLICATION_JSON_VALUE);
        if (exception instanceof AuthenticationCredentialsNotFoundException) {
            response.setStatus(HttpStatus.UNAUTHORIZED.value());
        } else {
            response.setStatus(HttpStatus.FORBIDDEN.value());
        }
        Map&amp;lt;String, Object&amp;gt; data = new HashMap&amp;lt;&amp;gt;();
        data.put(
                &amp;quot;timestamp&amp;quot;,
                Calendar.getInstance().getTime());
        data.put(
                &amp;quot;exception&amp;quot;,
                exception.getMessage());


        response.getOutputStream()
                .println(objectMapper.writeValueAsString(data));

    }

    @Override
    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {
        response.setContentType(MediaType.APPLICATION_JSON_VALUE);
        UserPrincipal userPrincipal = (UserPrincipal) authentication.getPrincipal();
        String token = JWT.create().withSubject(userPrincipal.getEmail())
                .withExpiresAt(new Date(System.currentTimeMillis() + JwtProperties.EXPIRATION_TIME))
                .sign(Algorithm.HMAC512(JwtProperties.SECRET.getBytes()));
        TokenResponseDTO tokenResponseDTO = TokenResponseDTO.builder().token(token).build();
        PrintWriter out = response.getWriter();
        out.print(objectMapper.writeValueAsString(tokenResponseDTO));
        out.flush();
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;회원 정보가 있다면 이제 /api/auth/login으로 로그인을 진행하면 토큰을 발급 받을 수 있다. (생각해보니 회원가입도
아직 안만든 상태이다...)&lt;/p&gt;
&lt;h3 id=&quot;header인증-과정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#header%EC%9D%B8%EC%A6%9D-%EA%B3%BC%EC%A0%95&quot; aria-label=&quot;header인증 과정 permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#header%EC%9D%B8%EC%A6%9D-%EA%B3%BC%EC%A0%95&quot; aria-label=&quot;header인증 과정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;header인증 과정&lt;/h3&gt;
&lt;p&gt;이제 로그인으로 발급 받은 토큰을 가지고 해당 api에 접근 할 수 있는지 authorization 과정을 만들 차례이다.
JWT방식에는 쿠키-세션같은 상태를 가지고 있지 않기 때문에 header의 Authorization 필드의 bearer token값을 매번 검사해야한다.&lt;/p&gt;
&lt;p&gt;요청이 들어오면 header 값 검증을 하는 filter를 만들어 보자.&lt;/p&gt;
&lt;p&gt;BasicAuthenticationFilter를 상속 받아 만들 예정. 기본적으로 이 필터는 authorization header를 검사하긴 하나
Basic 방식? 으로 검사를 하기 때문에 우리가 사용하는 Bearer token방식과는 달라 새로 override해서 구현해야한다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;public class JwtAuthorizationFilter extends BasicAuthenticationFilter {

    CustomUserDetailsService customUserDetailsService;

    public JwtAuthorizationFilter(AuthenticationManager authenticationManager,CustomUserDetailsService customUserDetailsService ) {
        super(authenticationManager);
        this.customUserDetailsService = customUserDetailsService;
    }

    @Override
    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {
        String header = request.getHeader(JwtProperties.HEADER_STRING);

        if(header == null || !header.startsWith(JwtProperties.TOKEN_PREFIX)){
            chain.doFilter(request,response);
            return;
        }
        Authentication authentication = getUsernamePasswordAuthentication(request);
        SecurityContextHolder.getContext().setAuthentication(authentication);
        chain.doFilter(request,response);
    }
    private Authentication getUsernamePasswordAuthentication(HttpServletRequest request) throws UnsupportedEncodingException {
        String token = request.getHeader(JwtProperties.HEADER_STRING).replace(JwtProperties.TOKEN_PREFIX,&amp;quot;&amp;quot;);
        String username = JWT.require(Algorithm.HMAC512(JwtProperties.SECRET.getBytes()))
                .build()
                .verify(token)
                .getSubject();
        UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);
        UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());
        return authentication;
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;간단히 말하면 header의 bearer 토큰을 꺼내 파싱 후 db에서 해당하는 유저가있는지 조회하는 로직을 가지고 있다. &lt;/p&gt;
&lt;p&gt;여기까지 만들었으면 기본적인 JWT 인증과정을 구현이 끝났다.
간단히 회원가입 api와 hello api를 만들어보자&lt;/p&gt;
&lt;p&gt;회원가입 요청, 응답 DTO&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@Getter
@NoArgsConstructor
public class SignupRequestDTO {
    @Valid
    private String email;
    @NotEmpty
    private String username;
    @NotEmpty
    private String password;

    @Builder
    public SignupRequestDTO(String email, String username, String password) {
        this.email = email;
        this.username = username;
        this.password = password;
    }

    public User toEntity(PasswordEncoder passwordEncoder) {
        return User.builder()
                .email(this.email)
                .password(passwordEncoder.encode(this.password))
                .username(this.username)
                .build();
    }
}
////////
@Getter
@Setter
@NoArgsConstructor
public class SignupResponseDTO {
    @Valid
    private String email;
    private String username;

    public SignupResponseDTO(User user) {
        this.email = user.getEmail();
        this.username = user.getUsername();
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;그리고 회원가입시켜줄 UserService &lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@RequiredArgsConstructor
@Service
public class UserService {

    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    @Transactional
    public SignupResponseDTO signup (SignupRequestDTO signupRequestDTO) {
        //중복체크
//        User user = userRepository.findByEmail(signupRequestDTO.getEmail());
//        if(user != null) {
//            throw new EmailDuplicationException(user.getEmail().getValue());
//        }
        return new SignupResponseDTO(userRepository.save(signupRequestDTO.toEntity(passwordEncoder)));

    }

}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;중간의 저 주석은 security Error 핸들링할 때 같이 처리해줄 예정이다.&lt;/p&gt;
&lt;p&gt;그리고 api controller 부분&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;/// AuthController
@RequiredArgsConstructor
@RestController
@RequestMapping(&amp;quot;/api/auth&amp;quot;)
public class AuthController {

    private final UserService userService;

    @PostMapping(&amp;quot;/users&amp;quot;)
    @ResponseStatus(HttpStatus.CREATED)
    SignupResponseDTO signup (@RequestBody @Valid SignupRequestDTO signupRequestDTO) {
        return userService.signup(signupRequestDTO);
    }
}
/// HelloController
@RestController
@RequestMapping(&amp;quot;/hello&amp;quot;)
public class HelloController {

    @GetMapping(&amp;quot;/&amp;quot;)
    public String hello () {
        return &amp;quot;hello&amp;quot;;
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;여기까지 작성하면 로그인 및 회원가입이 가능하고 helloController로는 토큰이 없으면 401에러를 반환할 것이다.
다음 포스팅때 security와 controller단 error handling을 해보자.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AuthorizationFilter내부에서 token으로 db를 한번씩 조회하는데 이 과정을 redis로 처리해보고싶다. 언젠간 해야징&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[스프링 부트에서 @NotEmpty 찾을 수 없다고 할 때]]></title><description><![CDATA[스프링부트와 리액트로 트렐로 클론코딩을 하던 도중 UserEntity내에 @NotEmpty를 사용했는데 이게 import…]]></description><link>https://jiinwoo.github.io/springboot-validate-error/</link><guid isPermaLink="false">https://jiinwoo.github.io/springboot-validate-error/</guid><pubDate>Wed, 27 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;스프링부트와 리액트로 트렐로 클론코딩을 하던 도중 UserEntity내에 @NotEmpty를 사용했는데 이게 import가 안됀단다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fcdbe3844a3b9f1cd865f809c5245a7c/87488/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLElEQVQoz5WTW3LCMAxFsx1s+Rm/EhISCl/d/34usgdo2qEZ+DgjxaO5vpKcLjmFGCMjQSQgpYAQ7yGlbLScWS9XdEs2GMcR05RQSg/vHZRSz+I9iOhXPk4ndLl3CCGihATvPKy1MMY20XepYlorFpxZMBCc09DWPO1/0vIjJ86b4DwrpGhgDe3OaQ9RI9eW8cgOo8KQ62I8O/WtXWsdjLZ8K/0r+vdciANSGdA5q5CDbsuoc6jzaEh6y932giboWXDoDQtGGPpshkJs6g/sMFdBXkgJFj0LOqNBin5cPuAz9RLu6I7kuqEuZTlfsKxnzEtl5Vsm5HJilhYLk8oMl6YNM2yNcUTiJze0ZxdwTAld+fqGm66QeYXiwjo71VAt1xzr94Hbe4W8/yUPbkopUxgR0RpXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;1&quot;
        src=&quot;/static/fcdbe3844a3b9f1cd865f809c5245a7c/fcda8/1.png&quot;
        srcset=&quot;/static/fcdbe3844a3b9f1cd865f809c5245a7c/12f09/1.png 148w,
/static/fcdbe3844a3b9f1cd865f809c5245a7c/e4a3f/1.png 295w,
/static/fcdbe3844a3b9f1cd865f809c5245a7c/fcda8/1.png 590w,
/static/fcdbe3844a3b9f1cd865f809c5245a7c/efc66/1.png 885w,
/static/fcdbe3844a3b9f1cd865f809c5245a7c/c83ae/1.png 1180w,
/static/fcdbe3844a3b9f1cd865f809c5245a7c/87488/1.png 1282w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;나는 기존에 만들어둔 코드를 똑같이 한번더 만들면서 진행하는 거라 문제가 없을 줄 알았는데 한참을 삽질해서 겨우 알아냈다.
project를 attach해서 여러창에 띄워놔서 그런가 했는데 아니고 스프링 부트 버전 문제였다.&lt;/p&gt;
&lt;p&gt;갓 만든 프로젝트는 스프링부트 2.3.0을 사용하고 있었고 기존에 만들어둔 프로젝트 스프링부트 버전은 2.2.6이었다..&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;스택오버플로우&lt;/a&gt;
답변을 참고해보면&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;xml&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-boot-starter-validation&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이걸 추가해줘야한다고 한다.  끗&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot, React 사용해 Trello 클론코딩하기 ( 3 )]]></title><description><![CDATA[저번 포스트에서 귀찮아서 작성하지 못했던 security 관련 설정파일들을 작성해보자. Provider 구현체 DaoAuthenticationProvider UserDetailsService 구현체 CustomUserDetailsService User…]]></description><link>https://jiinwoo.github.io/springboot-react-trello_3/</link><guid isPermaLink="false">https://jiinwoo.github.io/springboot-react-trello_3/</guid><pubDate>Tue, 26 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;저번 포스트에서 &lt;del&gt;귀찮아서&lt;/del&gt; 작성하지 못했던 security 관련 설정파일들을 작성해보자.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Provider 구현체 DaoAuthenticationProvider&lt;/li&gt;
&lt;li&gt;UserDetailsService 구현체 CustomUserDetailsService&lt;/li&gt;
&lt;li&gt;User Entity 및 UserPrincipal &lt;/li&gt;
&lt;li&gt;header인증을 위한 BasicAuthenticationFilter 구현체 JwtAuthorizationFilter&lt;/li&gt;
&lt;li&gt;AuthenticationEntryPoint 구현체 CustomAuthenticationEntryPoint&lt;/li&gt;
&lt;li&gt;ErrorResponseDTO&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;provider&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#provider&quot; aria-label=&quot;provider permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#provider&quot; aria-label=&quot;provider permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Provider&lt;/h2&gt;
&lt;p&gt;먼저 나는 Provider를 직접 구현하지 않고 DaoAuthenticationProvider를 사용할 예정이다. 이 클래스를 자세히보면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/92eaff73f38f1092991bb716e7bdb86b/d7542/dao.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABWElEQVQoz4WS6XaEIAyFfZwKWQARl7Hv/1i3AXScmZ6e/vi8MUo2MpTImI04ZUx5Rp4LktmVmKbmSxV7Z2Y45+C9/8XlH3KwYMIgYozj2HDuUgc3uq7/cAUdNCpYCSQEETHsvaoqiLu/UW32L3rbbxVKEKQtIK8z1u0wHli2vbXLyuBwYkkbgW77xNNLQLYK4x6gWSFJnh/H8escgev69TfuGk9t+dgjliMgWsA4R0iwllnO9gVqLalVKpZYP7h8tUsiagxbDljMuZWMfT/wOL6xP7qWsmCxqkuZUI715nHp0nTeiiXVtgWDtwdxv+UryxNv8zkhZ8P/gPwF3bdco9ZBS7K2Jj7V2o3dVrNZ+uAr7Va52y2If1+doVVmh8MaOovNsrJqS1CTkfqO+L5i55r1QO/L3Sqc7OdKtMzJDoUYEUNC4IggZuuEpBnCfWelXlLo0MvKVH4AKxlSOFdPvLYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;dao&quot;
        title=&quot;dao&quot;
        src=&quot;/static/92eaff73f38f1092991bb716e7bdb86b/fcda8/dao.png&quot;
        srcset=&quot;/static/92eaff73f38f1092991bb716e7bdb86b/12f09/dao.png 148w,
/static/92eaff73f38f1092991bb716e7bdb86b/e4a3f/dao.png 295w,
/static/92eaff73f38f1092991bb716e7bdb86b/fcda8/dao.png 590w,
/static/92eaff73f38f1092991bb716e7bdb86b/d7542/dao.png 810w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;AbstractUserDetailsAuthenticationProvider를 상속해서 구현한 것을 알 수 있고 이클래스는 다시
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d623a0e4ae3d17bc2bd3530022792783/8c557/super1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRklEQVQoz42RWXLEIAxEfZsYjAQIg5fZU5P7H6kj8Ixr/JGqfLySoEFqRMeRIWtAKB4+MUJmxNmDE8HnTYuT35gDZAl7Xs/6kXe95h0HbsWaqITRQyZBmgWxxHaIhVqzlkfa1zWybPubGY+OXgXbhkbRIillpDFDUsLgBgzD/+myVhV9ogsOAw2wg0Xff22YHsaYHWvNYW2MhbH2WPCxRCzq7jIlrCXhumTcnnecnzecvq8at/zyc8f6OGt84Kz56XbCVUdzVkPB6/N5o3POgdXZlEeUMaHkjFwm5FwQRZCnRZkxzYuOYcS0rCi6HlUX1Zno6LAWTGwhZBBdj8CDdtIfpADnSOc4woegxJaHqJ+lOL3c9317sv2gI+1AarW6EUmtq0hEbUTkXpEaNX/z3vvUauyqi3rRM73m4Pd5HCD+0P84o/wCO24YrF54XWsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;super1&quot;
        title=&quot;super1&quot;
        src=&quot;/static/d623a0e4ae3d17bc2bd3530022792783/fcda8/super1.png&quot;
        srcset=&quot;/static/d623a0e4ae3d17bc2bd3530022792783/12f09/super1.png 148w,
/static/d623a0e4ae3d17bc2bd3530022792783/e4a3f/super1.png 295w,
/static/d623a0e4ae3d17bc2bd3530022792783/fcda8/super1.png 590w,
/static/d623a0e4ae3d17bc2bd3530022792783/8c557/super1.png 700w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;AuthenticationProvider 인터페이스를 구현해놓은 것을 알 수 있다.
이 인터페이스는 메소드로 authenticate메소드를 가지고 있으며
Authentication 을 받아 UsernamePasswordAuthenticationToken을 반환하는 역할을 한다.&lt;/p&gt;
&lt;p&gt;하지만 추상클래스이기 때문에 authentication 메소드 안에 사용하는 함수 몇몇개들을 하위에서 implement해서 사용해야한다.
예를 들어
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a511831ff39e850b7c5d06a6d0c9bd9/33e10/super2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 107.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC1klEQVQ4y41U2XLbMAz0z7SWRPESdVCXHTtNHjqdyf9/zXZBSo5dp9M+rHgKXAALHIKpELuAdYqYlhNO64TLacT5tCBOC9puIHq0/YCOo3MWdV1Da51GpSpCoaryeFC1hvcNQgiIccY0njHOJ6wvV3RDhOOZbwQB3vKuUWhCi9B1sNaiKsubMRkPMimKAuV20LUdDbVoOg/XGvgNMnedhQtEY2AbneFMYvrJkB9h2JCFc45zD2PMzS1jDTTXWtcJtYwmj6pWvKceXZYfxa1AZkOc0McRA2M3zmvak8fk3GgFS2i6bVzGbujBZc0XWktIDKeVCejQ8rIzEvwc+ARJgjb5x7J6MPTEsO+7bKhl7JjFhi5648kuMFncY0IEMjeGzL4wtOOgqjLFT9h1XcvMSfxKHMuMohJUCcdtXkoixZgYEaYPBvnRdUVZeETjcGIIFrKelUBhpNGMIo2RihiJyPnN2B3LZLCWhXW4MGZvfcRlXHAdZ1yYoMl5zEyKQOYLXZ84v9Kg/sqgbFhKoKGrc+jwzoq4MJZXZljwg+sXJmxhUmbem+rMvL+P3Z3bh32jIcPQRjRkqKlHzbVvexiyKRmGihVSUTbfiz22n5K5xXKvlGqL4+AdJiZoHGaMLMM4jFTAgNBI9nOW+2HY6lndxF09MUyQ8ikpYMpo6HP59R4hQYTfwHopO0tRG1ZQFrdUzZPBivS9kTjyAsUrpXdfBTdQ0HvN30P96XLKNKl7TfnQHcd6zqF4FO2/IPcP0s9SE5BSSz1OPzP7H6i7biPdRJrAwP4XxxE+uNwArLSnHCfpNHbbk/V+vo9qy3qqZcnUt+MRR1aAoBBZbJAyq3i+jwlfubwbFKordfdK/S3U3UxMxImZfut7rHxwLI6Y+NBAeD7i+GP9N5dLWr6yg7zHHj/XBR8vZ3ycT/h1OeP1fMZCHfYSDupzoQ6vLL1X/jiIB/dltzH8DT5GiN5AMxY+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;super2&quot;
        title=&quot;super2&quot;
        src=&quot;/static/0a511831ff39e850b7c5d06a6d0c9bd9/fcda8/super2.png&quot;
        srcset=&quot;/static/0a511831ff39e850b7c5d06a6d0c9bd9/12f09/super2.png 148w,
/static/0a511831ff39e850b7c5d06a6d0c9bd9/e4a3f/super2.png 295w,
/static/0a511831ff39e850b7c5d06a6d0c9bd9/fcda8/super2.png 590w,
/static/0a511831ff39e850b7c5d06a6d0c9bd9/33e10/super2.png 844w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
다음의 두 메소드이다. 하지만 나는 앞서 말했듯이 이걸사용해서 직접구현하지 않고 DaoAuthenticationProvider를 사용 할 것이다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;아 그리고 이건 지금 작성하면서 안 사실인데 additionalAuthenticationChecks가 deprecated될 상황이란것이다.
하지만 간단하게 할거니까 무시하자..
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ccde9e007473917925c494157833d964/940c5/deprecated.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACLUlEQVQ4y32T2XraMBCFeZxgvGmzTUiAhJIYiBdsYwjwtX3/lzg9Eku56NeL32dGlo7G8mgwmwSYZCO8jAOMM4ksE8hSCSMjEkJRhZSOWAhIpSClQhgGCIK/hGHoGKgowPRlgsX7DMvFnMyweHvF+/yVOsUbdf6+wHQ2x+RliiRNkSQpRBwjviJE7Ew9z8NAMmn7A/rDEd3+jMPpN/aOX9gfLT8du8MZm7LBj88NfuQFlqsSH+vSxeuyRTZ+xtPTEwZxFKGoGnzVHT7LPfL6hNX2hLw6MP5GXvbU43XsG6uqx7reY01dXSnaI7LnycUwDGlYt9juTmj6M+rdGVX3jdpxJAfmNCxarMqOm9eo6i1KalFWTr+Kkmc/vhhGrLDetuh2PZpuh7brXNxe86a1dHfa3d7Nr0jT9dgUFVYbGo6vhlJpVJy45UKLnVTVDermMmYX2thyi61Jvv7CR77C8iPH8jOHNgmGwyEGQkiXGJKkmUNxE8M/aWOnN5hrbRhz3BjY87dH5vMPj0ajy1+O2U9GjpHoMYxK2WfcIDVQRkMnBiZNoBLFPhQul1pxLIXJUo5rRHF0N7M68PlIRYRECU7M7kZKaxdLodjchBXpJGFzx6xohCD0qT77j/poaB+hP4Rgg6cZP4XV6VTfMaxCsSqppasoljHCmDcjDp0+Vuc+2fd9DO0AVfBq2RsQ0txWEET+JWYVnje8MLosfsTzrD5UeHP/H4+L//Xupn8AQdi4ZiobyoUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;deprecated&quot;
        title=&quot;deprecated&quot;
        src=&quot;/static/ccde9e007473917925c494157833d964/fcda8/deprecated.png&quot;
        srcset=&quot;/static/ccde9e007473917925c494157833d964/12f09/deprecated.png 148w,
/static/ccde9e007473917925c494157833d964/e4a3f/deprecated.png 295w,
/static/ccde9e007473917925c494157833d964/fcda8/deprecated.png 590w,
/static/ccde9e007473917925c494157833d964/940c5/deprecated.png 772w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt; &lt;/p&gt;
&lt;/blockquote&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;    @Bean
    public AuthenticationProvider authenticationProvider() {
        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();
        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());
        daoAuthenticationProvider.setUserDetailsService(customUserDetailsService);
        return daoAuthenticationProvider;
    }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음과 같이 security 안에 Bean 등록을 해주고 &lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.authenticationProvider(authenticationProvider());
    }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;빌더를 통해 provider를 넣어주자! 끗&lt;/p&gt;
&lt;h2 id=&quot;userdetails&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#userdetails&quot; aria-label=&quot;userdetails permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#userdetails&quot; aria-label=&quot;userdetails permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;UserDetails&lt;/h2&gt;
&lt;p&gt;Provider는 적당히 있는 DAOauthenticationprovider를 사용했지만 나름 뭔가 커스텀한 느낌을 주기위해 UserDetailsService를 구현한
CustomUserDetailsService를 작성해보자.&lt;/p&gt;
&lt;p&gt;일단 현재 사용하는 Provider의 authenticate메소드를 보자.
AbstractUserDetailsAuthenticationProvider는 현재 authenticate 메소드 안에서 retrieveUser를 호출하고
이 retrieveUser는 하위 클래스 DaoAuthenticationProvider에서 정의 되어있고&lt;br&gt;
retrieveUser 안에서 UserDetails 인터페이스의 loadByUserName을 호출하게 되는 것이다.&lt;/p&gt;
&lt;p&gt;사실 내가 작성해도 무슨말인지 잘모르겠다. 일단 UserDetails인터페이스를 구현한 CustomUserDetailsService를 만들자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@RequiredArgsConstructor
@Service
public class CustomUserDetailsService implements UserDetailsService {

    private final UserRepository userRepository;

    @Override
    @Transactional
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
        User user = userRepository.findByEmail(username);
        if(user == null){
            throw new AuthenticationCredentialsNotFoundException(&amp;quot;User not found with username or email : &amp;quot; + username);
        }
        return UserPrincipal.create(user);
    }

}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;loadUserByUsername 메소드의 역할은 username(email)을 받아서 UserDetails 인터페이스를 구현한 어떤것을 반환하면 됀다.
그럼 구현해야 할것들이&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;User 엔티티&lt;/li&gt;
&lt;li&gt;UserRepository&lt;/li&gt;
&lt;li&gt;UserDetails 인터페이스의 구현체 -&gt; UserPrincipal 이라고 이름지을거임 ㅎ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;user-entity&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#user-entity&quot; aria-label=&quot;user entity permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#user-entity&quot; aria-label=&quot;user entity permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;User Entity&lt;/h3&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;// UserEntity

@Getter
@NoArgsConstructor
@Table(name =&amp;quot;TB_USER&amp;quot;)
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name=&amp;quot;USER_ID&amp;quot;)
    private Long id;

    @NotBlank
    @Column(nullable = false)
    private String email;

    @NotBlank
    @Column(nullable = false)
    private String username;

    @NotBlank
    @Column(nullable = false)
    private String password;

    @Builder
    public User(String email, String password, String username) {
        this.email = email;
        this.password = password;
        this.username = username;
    }

    @ManyToMany(fetch = FetchType.LAZY)
    @JoinTable(name = &amp;quot;USER_ROLE&amp;quot;,
            joinColumns = @JoinColumn(name = &amp;quot;user_id&amp;quot;),
            inverseJoinColumns = @JoinColumn(name = &amp;quot;role_id&amp;quot;))
    private Set&amp;lt;Role&amp;gt; roles = new HashSet&amp;lt;&amp;gt;();

    public void setRoles(Set&amp;lt;Role&amp;gt; roles) {
        this.roles = roles;
    }
}
 
// UserRepository

public interface UserRepository extends JpaRepository&amp;lt;User,Long&amp;gt; {
    User findByEmail(String email);
}

// Role Entity

@NoArgsConstructor
@Table(name=&amp;quot;ROLE&amp;quot;)
@Getter
@Entity
public class Role {
    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name=&amp;quot;ROLE_ID&amp;quot;)
    private Long id;

    @Enumerated(EnumType.STRING)
    @Column
    private RoleName name;

    @Builder
    public Role(RoleName name) {
        this.name = name;
    }
}


// Role Repository

public interface RoleRepository extends JpaRepository&amp;lt;Role, Long&amp;gt; {
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h3 id=&quot;userprincipal&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#userprincipal&quot; aria-label=&quot;userprincipal permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#userprincipal&quot; aria-label=&quot;userprincipal permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;UserPrincipal&lt;/h3&gt;
&lt;p&gt;그리고 UserPrincipal 클래스. 이 클래스는 ValueObject 즉 값을 저장하고 쓰는 공간이라고 생각하면 쉽다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@Getter
public class UserPrincipal implements UserDetails {

    private Long id;

    private String username;

    @JsonIgnore
    private String email;

    @JsonIgnore
    private String password;

    private Collection&amp;lt;? extends GrantedAuthority&amp;gt; authorities;

    public UserPrincipal(Long id, String username, String email, String password, Collection&amp;lt;? extends GrantedAuthority&amp;gt; authorities) {
        this.id = id;
        this.username = username;
        this.email = email;
        this.password = password;
        this.authorities = authorities;
    }

    public static UserPrincipal create(User user) {
        List&amp;lt;GrantedAuthority&amp;gt; authorities = user.getRoles().stream().map(role -&amp;gt;
                new SimpleGrantedAuthority(role.getName().name())
        ).collect(Collectors.toList());

        return new UserPrincipal(
                user.getId(),
                user.getUsername(),
                user.getEmail(),
                user.getPassword(),
                authorities
        );
    }


    @Override
    public Collection&amp;lt;? extends GrantedAuthority&amp;gt; getAuthorities() {
        return authorities;
    }

    @Override
    public String getPassword() {
        return password;
    }

    @Override
    public String getUsername() {
        return username;
    }

    @Override
    public boolean isAccountNonExpired() {
        return true;
    }

    @Override
    public boolean isAccountNonLocked() {
        return true;
    }

    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }

    @Override
    public boolean isEnabled() {
        return true;
    }

    @Override
    public int hashCode() {
        return Objects.hash(id);
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        UserPrincipal that = (UserPrincipal) o;
        return Objects.equals(id, that.id);
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;여기까지 만들고 auto import 켜둔 상태라면 CustomUserDetailsService에 빨간줄이 사라져있을 것이다.
이제 남은거는&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;del&gt;Provider 구현체 DaoAuthenticationProvider&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;del&gt;UserDetailsService 구현체 CustomUserDetailsService&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;del&gt;User Entity 및 UserPrincipal&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;header인증을 위한 BasicAuthenticationFilter 구현체 JwtAuthorizationFilter&lt;/li&gt;
&lt;li&gt;AuthenticationEntryPoint 구현체 CustomAuthenticationEntryPoint&lt;/li&gt;
&lt;li&gt;ErrorResponseDTO&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;나머지 3개는 다음포스팅때~&lt;/p&gt;</content:encoded></item><item><title><![CDATA[자식이 부모를 벗어날 때]]></title><description><![CDATA[위와같이 코드를 작성하면 자식 div태그에서 width:100%로 부모 영역안에 위치한다고 생각 할 수 있다. 하지만 실제 결과를보면
 다음과같이 부모의 영역을 벗어나는 것을 알 수 있다. 이 이유는 기본 box-sizing이 content-box…]]></description><link>https://jiinwoo.github.io/padding-boxsizing/</link><guid isPermaLink="false">https://jiinwoo.github.io/padding-boxsizing/</guid><pubDate>Sun, 24 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;deckgo-highlight-code language=&quot;html&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;div style=&amp;quot;width : 100px;height:100px;background-color: #00aced&amp;quot;&amp;gt;
    &amp;lt;div style=&amp;quot;width:100%;padding:10px;height : 50px;background-color: #00009f&amp;quot;&amp;gt;
        
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;위와같이 코드를 작성하면 자식 div태그에서 width:100%로 부모 영역안에 위치한다고 생각 할 수 있다. 하지만 실제 결과를보면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/51a5d9eeeb869064fe9c7888018f3c36/2fd48/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACjUlEQVQ4y4WS247TRhjH/Vj0srQ8B+WipeWyjwDvUC57hdTeIFQugCJ2q0JVFUjZ7iYxzmHtJD7GduLD+Bg7PybezXYlFjHSXzPfHH7znZRX/w74+0Tj1PSYOQHzTmG33tvTucub41Gn3mBKr3+mnf36vxEvX59Ie8LBX29RxvqMkTGjrmu22y1XjaoqMW2PueniLkMcL8ByfKkljhuwsOS+FzKe6CgiTc6fbanKjE1dsjBNJqcGuvzItB0s25UQj6UvIbaN5wfSXsoPLNZxwlQ3urM0TVFevR3y8Pk7Hh8ed/rt4AgvWNO2DUmSYFk2juNIgM9YNzmd2/jBCluCd5AwDImiiFiCDcNAuXf/GV988zs37vzB9e//5Kvbj1Gni7NQZRriJJaXI8JIsFhGuKsMkZcIkZLnBWVZdtqlzJNRKHd/esq1m0/4+ocXXL99yJffPmIwnnfARnqZrTNSLyL1LSIvpt00fGp0If98eMKPv/b47pcetx70uP/kCJFm58CWXK5TJ6aWXpVxQXMFcF/KXYqUYOHRpIUML6csxA5zcVEIwWQ8YdjTmKiytUYqqjpDez9jMDA6qaou51M0bUG/r6LsqGVVUcg87LSRHuzbJy8KDNNnqLmoA5P3Qwkfzjg6sfjnzZyjY5P+cMFxf85E91FHsm3yPP84hHNgWTcEaSsbvKD3LmRqrBhNI1k0QV9LZK5ThhOBpmc4YYNurVGyLLuAXFYHrBrcdS2rW6IZgpld4Mcb/ORMwbn8pGYltuhm+L+He8hlYC3DX4mGdbohSip8V7CKK6KsIRKbC+3O02KL5a6vBu7nVla5bVoiM6KI8k+2y/5NEsefAW5bKlEhvLQDX5WayxHFEvgBD5EVn/q/BugAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;1&quot;
        src=&quot;/static/51a5d9eeeb869064fe9c7888018f3c36/2fd48/1.png&quot;
        srcset=&quot;/static/51a5d9eeeb869064fe9c7888018f3c36/12f09/1.png 148w,
/static/51a5d9eeeb869064fe9c7888018f3c36/e4a3f/1.png 295w,
/static/51a5d9eeeb869064fe9c7888018f3c36/2fd48/1.png 508w&quot;
        sizes=&quot;(max-width: 508px) 100vw, 508px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음과같이 부모의 영역을 벗어나는 것을 알 수 있다. 이 이유는 기본 box-sizing이 content-box로 설정되어있어서인데
해당 두번째 영역을 box-sizing : border-box; 로 설정하면 border영역까지가 width로 잡히기때문에 부모영역안으로 들어 갈 수 있다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 499px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/28712ea14a5a1ad3ebf52e96e59ced3f/119c7/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.27027027027026%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACaklEQVQ4y42TSW7UUBCGfQCuwYIjgMQFIiS2HIUDcADEllUkFgRWARYRUmCRSBlIItLpTnrw1O15nt2O2+/9VNvdATG0eNKn8rOr/qp6riecDUSc9scQVQPSzIKk2WTt7nnFUNbwrTcixjjvi8QE51cTnF6OiCEOT3utPbq4hiBqFnpjEc1igX+tuq6hzswW0/ahWx50071jptvQDKdFqOuCQnhL0xTI8hTKdAplpkFWpzAsu8VyXNiuR0EmHC9o9zPdRJSkkJUpbNovl3B0bGPnvYTdj1OyMtRpCsZqlPMKCTlbJGZaFoIggOM48DwXYRTBcV14vo8oihGGUfsujmMIT7c+QxBeEa+Jl3izPWkzMda1GoQBOZJAkGGoOlDMGGlWkkiALMtQFAXm83lrl3vh2fMLCA8+4N6jPQj3d/F2z+jObcHAOEMRkaMXIXENBF6GxYJj0xK2TnII70IIu1TuToht7bYTZBycc5RUTWokqOe3qKI5eMM2C764LvD4S4wnBwke7sf46tRdy0Se55AlGWJPgqbI0FUJkmRAUYzWTiY6RFEnq2E81qFpJoS/ZWG8a6ssCximg5uBhtGVglH/BsO+hN53FSfHZC8V3FzLGAxkEjXoB9LYNBS8YD9Ziy3b5axrrywamFqOIivgJw08mjQrBuyQw4s5/JihqjrfPyrkvwiypmkTZHkN3SiQxrdwDy7gfNqHtXcA/6wPvzdBOFTbOV7GbBakCpu7qjmqpERDM8n0GZrJGMykiUgT8Cztrsb/CC7FEjNBGZer+/Sb/5pV3GZBmsMqq5CSIFuNy/psWzi/Y/3tByvqE489Y6GjAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;2&quot;
        src=&quot;/static/28712ea14a5a1ad3ebf52e96e59ced3f/119c7/2.png&quot;
        srcset=&quot;/static/28712ea14a5a1ad3ebf52e96e59ced3f/12f09/2.png 148w,
/static/28712ea14a5a1ad3ebf52e96e59ced3f/e4a3f/2.png 295w,
/static/28712ea14a5a1ad3ebf52e96e59ced3f/119c7/2.png 499w&quot;
        sizes=&quot;(max-width: 499px) 100vw, 499px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot, React 사용해 Trello 클론코딩하기 ( 1 )]]></title><description><![CDATA[프로젝트 생성 위 커맨드로 프로젝트를 만들어주고 라우팅을 위해 다음을 설치한다. 이후 App.tsx 파일 안에 다음과 같이 라우팅 해줍니다. 일반적으로 react-router-dom 공식 사이트에서는 
BrowserRouter…]]></description><link>https://jiinwoo.github.io/springboot-react-trello_1/</link><guid isPermaLink="false">https://jiinwoo.github.io/springboot-react-trello_1/</guid><pubDate>Sat, 23 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;프로젝트-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;프로젝트 생성 permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;프로젝트 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;프로젝트 생성&lt;/h2&gt;
&lt;deckgo-highlight-code language=&quot;bash&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;npx create-react-app [프로젝트 명] --typescript&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;위 커맨드로 프로젝트를 만들어주고 라우팅을 위해 다음을 설치한다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;bash&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;npm i react-router-dom @types/react-router-dom history&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이후 App.tsx 파일 안에 다음과 같이 라우팅 해줍니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;tsx&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import React from &amp;#39;react&amp;#39;;
import {Router , Route, Switch} from &amp;#39;react-router-dom&amp;#39;;
import {createBrowserHistory} from &amp;#39;history&amp;#39;;
import LoginForm from &amp;#39;./components/LoginForm&amp;#39;;

export const history = createBrowserHistory();

function App() {
  return (
    &amp;lt;Router history={history}&amp;gt;
      &amp;lt;Switch&amp;gt;
        &amp;lt;Route component={LoginForm} to={&amp;quot;/login&amp;quot;} exact/&amp;gt;
      &amp;lt;/Switch&amp;gt;
    &amp;lt;/Router&amp;gt;
  );
}

export default App;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;일반적으로 &lt;a href=&quot;&amp;#x27;https://reacttraining.com/react-router/web/guides/quick-start&amp;#x27;&quot;&gt;react-router-dom&lt;/a&gt; 공식 사이트에서는
BrowserRouter를 사용하는데 나 같은 경우에는 조금있다가 사용할 redux 미들웨어인 thunk 함수내에서 라우팅을 하기 위해서
추상화된 BrowserRouter 대신 기본 Router를 사용하고 history를 직접 넣었다.&lt;/p&gt;
&lt;p&gt;이제 로그인폼 컴포넌트를 만들어보자. &lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;nashorn&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;npm i formik&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;사실 다른 form 상태관리 라이브러리는 사용해보지 않았다... 그냥 npm trend에서 많이 사용한다길래 선택한 것일 뿐
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dde9795b6b78bf67b44691cbe40c1b09/e5ca1/formik-npm-trend.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYElEQVQoz1VS7VLEIAzs+z+kP3Q8r/X6AbQhQMK67amjzOyQhbDZAEOMESEEpJQwLQn32zu2eYK5QyzDW4NnhbuiO7l3tN7Rm3PdAHT8HYOZ/ZLX4ChpRk8Tcqu4lTvakdDvI7pNqPqBKI5JDY8x4/NlR+b5o/gFqY5BRFBqQzkr0pV/1yyto1Zgrx2Bc9Rv0NVOwdOlMD+IXUJ7MXbVMWgp2KRyo2E92pV8Cm/kB5NyNYobtJ0HDJ1CfsKfBq7y/YRfe4OqQuguc0+5HtQv8UhXNAf1JwrjM+cH6v85b+LKp2BGU4FVXnoVLGxpFKCRe+Mj6M6+N2IhHsRKTMQdSB/ojPs+wiJjDRhqLajhHba8wtY3lOUJX5/c0w0mn7A881VXuDzIN2In0hU7Z5cIp4nh7FtzpIkZOQW+6oqyjZC4ouYdyrUcVrScoHSqYUPjF6v8ajLPqGfMr3csLMRuvwDfXm+dlnRFWQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;formik npm trend&quot;
        title=&quot;formik npm trend&quot;
        src=&quot;/static/dde9795b6b78bf67b44691cbe40c1b09/fcda8/formik-npm-trend.png&quot;
        srcset=&quot;/static/dde9795b6b78bf67b44691cbe40c1b09/12f09/formik-npm-trend.png 148w,
/static/dde9795b6b78bf67b44691cbe40c1b09/e4a3f/formik-npm-trend.png 295w,
/static/dde9795b6b78bf67b44691cbe40c1b09/fcda8/formik-npm-trend.png 590w,
/static/dde9795b6b78bf67b44691cbe40c1b09/efc66/formik-npm-trend.png 885w,
/static/dde9795b6b78bf67b44691cbe40c1b09/c83ae/formik-npm-trend.png 1180w,
/static/dde9795b6b78bf67b44691cbe40c1b09/e5ca1/formik-npm-trend.png 1332w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
그리고 이거는 방금안 사실인데 그냥 formik만 사용하기엔 너무 밋밋해 보일 것같아서 antd를 사용해 기본적인 디자인을 주려했는데
아예 결합된 라이브러리가 있었다. 그래서 설치했다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;nashorn&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;npm i formik-antd antd&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;기본적으로 form 상태 관리를 사용하지 않으면 다음과같이 코드량이 상당히 늘어나고 관리하기도 힘들다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;tsx&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import React , {useState, ChangeEvent}from &amp;#39;react&amp;#39;;

function LoginForm () {
  const [email,setEmail] = useState(&amp;#39;&amp;#39;)
  const [password,setPassword] = useState(&amp;#39;&amp;#39;)
  const onChangeEmail = (e : ChangeEvent&amp;lt;HTMLInputElement&amp;gt;)=&amp;gt;{
      setEmail(e.target.value);
  }
  const onChangePassword = (e : ChangeEvent&amp;lt;HTMLInputElement&amp;gt;)=&amp;gt;{
      setPassword(e.target.value);
  }
  return (
      &amp;lt;form&amp;gt;
        &amp;lt;input value={email} onChange={onChangeEmail}/&amp;gt;
        &amp;lt;input value={password} onChange={onChangePassword}/&amp;gt;
      &amp;lt;/form&amp;gt;  
    )
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;기본적으로 입력 받고 상태만 관리하는데 벌써 코드량이 많아졌다.. 물론 changeMethod도 하나로 하고 useState도 하나로면
더 줄일 수 있겠으나 여간 귀찮은게 아니다. 그런데 formik 라이브러리를 사용하면&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;tsx&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import { Button } from &amp;#39;antd&amp;#39;;
import React from &amp;#39;react&amp;#39;
import { SubmitButton, Form, Input } from &amp;#39;formik-antd&amp;#39;
import { Formik } from &amp;#39;formik&amp;#39;
import { Link } from &amp;#39;react-router-dom&amp;#39;;

export interface ILoginValue {
  email: string;
  password: string;
}
function LoginForm() {
    const initialValue: ILoginValue = {email: &amp;#39;&amp;#39;, password: &amp;#39;&amp;#39;};
    return (
      &amp;lt;div style={{padding : &amp;#39;24px&amp;#39; , width: &amp;#39;300px&amp;#39;}}&amp;gt;
        &amp;lt;Formik
          initialValues={initialValue}
          render={() =&amp;gt; (
            &amp;lt;Form&amp;gt;
              {/* every formik-antd component must have the &amp;#39;name&amp;#39; prop set: */}
              &amp;lt;Input name=&amp;#39;email&amp;#39; placeholder=&amp;#39;이메일&amp;#39; /&amp;gt;
              &amp;lt;Input name=&amp;#39;password&amp;#39; placeholder=&amp;#39;패스워드&amp;#39; /&amp;gt;
              {/* the rest of the api stays as is */}
              &amp;lt;SubmitButton&amp;gt;로그인&amp;lt;/SubmitButton&amp;gt;
            &amp;lt;/Form&amp;gt;
          )}
          onSubmit={(value,helpers)=&amp;gt;{
            setTimeout(()=&amp;gt;(helpers.setSubmitting(false)),200);
            console.log(value);
          }}/&amp;gt;
        &amp;lt;Link to={&amp;quot;/signup&amp;quot;}&amp;gt;
            &amp;lt;Button&amp;gt;회원가입하기&amp;lt;/Button&amp;gt;
        &amp;lt;/Link&amp;gt;
      &amp;lt;/div&amp;gt;
    )
}
export default LoginForm;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음과 같이 깔끔해진다. 로그인 만들었던 것 처럼 회원가입도 만들자!&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;tsx&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import React from &amp;#39;react&amp;#39;
import { SubmitButton, Form, Input } from &amp;#39;formik-antd&amp;#39;
import { Formik } from &amp;#39;formik&amp;#39;

export interface ISignupValue {
  email: string;
  username: string;
  password: string;
}

function SignUpForm() {
  const initialValue: ISignupValue = {email: &amp;#39;&amp;#39;, username: &amp;#39;&amp;#39;, password: &amp;#39;&amp;#39;}
  return (
    &amp;lt;div style={{padding : &amp;#39;24px&amp;#39; , width: &amp;#39;300px&amp;#39;}}&amp;gt;
      &amp;lt;Formik
        initialValues={initialValue}
        render={() =&amp;gt; (
          &amp;lt;Form&amp;gt;
            {/* every formik-antd component must have the &amp;#39;name&amp;#39; prop set: */}
            &amp;lt;Input name=&amp;#39;email&amp;#39; placeholder=&amp;#39;이메일&amp;#39; /&amp;gt;
            &amp;lt;Input name=&amp;#39;username&amp;#39; placeholder=&amp;#39;이름&amp;#39; /&amp;gt;
            &amp;lt;Input name=&amp;#39;password&amp;#39; placeholder=&amp;#39;패스워드&amp;#39; /&amp;gt;
            {/* the rest of the api stays as is */}
            &amp;lt;SubmitButton&amp;gt;회원가입&amp;lt;/SubmitButton&amp;gt;
          &amp;lt;/Form&amp;gt;
        )}
        onSubmit={(value,helpers)=&amp;gt;{
          setTimeout(()=&amp;gt;(helpers.setSubmitting(false)),200);
          console.log(value);
        }}/&amp;gt;
    &amp;lt;/div&amp;gt;
  )
}
export default SignUpForm;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 326px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91ed7c60c05beeea003f48c853d365db/ce9b1/formik-login-form.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABIElEQVQoz6VSQU7DMBDMgQ/wBMQHeBSncuAHXFBBXBFH+AUScEBI9M6dUyUORakosQmOa3vtYe2SqK2oYmCk1TjJejxZTwFGCAEt4vqvFVHEBRHBGAOtNay18N7/uqJGJ+icg1INqqpCXdfw/O5fgs3cQGl2aGziZm7ZqYOzNjnOqRVBgB/sB7NmrpnNYp7Ix4rg1RPh6IFwOnIYjgjHj4TxO6WDnKPU3Ffxt78Fgb1LYPvMYefcYfeCsDUMuB+H5JF8/g13Dk/Y1f51wMEtcHjnMbgJeH6LTT45XN6wCa1wsbDqoeQM5eQFYlZCTF9RlhNIKbtbzMlo59DG2DQxNgKfHB8hJLNK2YyRWhbsQ9HX2H5bn9VGwfUNPw06VyziCyJ3pveFdjK1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;formik login form&quot;
        title=&quot;formik login form&quot;
        src=&quot;/static/91ed7c60c05beeea003f48c853d365db/ce9b1/formik-login-form.png&quot;
        srcset=&quot;/static/91ed7c60c05beeea003f48c853d365db/12f09/formik-login-form.png 148w,
/static/91ed7c60c05beeea003f48c853d365db/e4a3f/formik-login-form.png 295w,
/static/91ed7c60c05beeea003f48c853d365db/ce9b1/formik-login-form.png 326w&quot;
        sizes=&quot;(max-width: 326px) 100vw, 326px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 라우팅도 추가해주자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;tsx&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import React from &amp;#39;react&amp;#39;;
import {Router , Route} from &amp;#39;react-router-dom&amp;#39;;
import {createBrowserHistory} from &amp;#39;history&amp;#39;;
import LoginForm from &amp;#39;./components/LoginForm&amp;#39;;
import SignUpForm from &amp;#39;./components/SignUpForm&amp;#39;;

export const history = createBrowserHistory();

function App() {
  return (
    &amp;lt;Router history={history}&amp;gt;
      &amp;lt;Route exact component={LoginForm} to={&amp;quot;/login&amp;quot;} /&amp;gt;
      &amp;lt;Route exact component={SignUpForm} to={&amp;quot;/signup&amp;quot;}/&amp;gt;
    &amp;lt;/Router&amp;gt;
  );
}

export default App;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;기본적인 회원가입 및 로그인 컴포넌트를 완성했다.&lt;/p&gt;
&lt;p&gt;다음 포스트에서는 Spring Boot를 활용한 JWT 로그인, 회원가입을 구현해볼 예정이다. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot, React 사용해 Trello 클론코딩하기 ( 2 )]]></title><description><![CDATA[Spring은 배운지 얼마안됐고 security는 더더욱 안됐다. 정확하지 않을 수 있습니다. springboot 프로젝트 생성 나는 Intellij 안의 spring initializer…]]></description><link>https://jiinwoo.github.io/springboot-react-trello_2/</link><guid isPermaLink="false">https://jiinwoo.github.io/springboot-react-trello_2/</guid><pubDate>Sat, 23 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Spring은 배운지 얼마안됐고 security는 더더욱 안됐다.&lt;/p&gt;
&lt;p&gt;정확하지 않을 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;springboot-프로젝트-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#springboot-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;springboot 프로젝트 생성 permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#springboot-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;springboot 프로젝트 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;springboot 프로젝트 생성&lt;/h2&gt;
&lt;p&gt;나는 Intellij 안의 spring initializer를 사용했지만 직접 스프링이니셜라이저 사이트에
들어가서 다운받는거랑 같다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7a8fdc2f383bd29ac0bbdbca70e8144c/5148a/create-project1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA30lEQVQoz6WSzW6DMBCE/VwY/6y9xjZplSjX3KL2DfL+k4UQipBKQ3oYgdnV59kdlM8fIO6grYcLDBcTLAVYH2Acod2hoV8RZ1DK0HIIqUMsB3guMALcBZv6VSwdAkfoth2BXi6wUUQ8NpnJ6ZaewEEqnb/webkhnr6lEH4gfhp7h9NhbSrWE1J/Rktl/PCuZiDLyMSMxphdO1s7m4G1ZqT8CGFZeBvIpZcw8gryD2Do6gx81aG2G6EsIa8AH7VFILJ7bRwaeW/kqX5L6y+H1hNc6mGPV/lLjsj1gCTruwMBNH+xyMgOywAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;create project1&quot;
        title=&quot;create project1&quot;
        src=&quot;/static/7a8fdc2f383bd29ac0bbdbca70e8144c/fcda8/create-project1.png&quot;
        srcset=&quot;/static/7a8fdc2f383bd29ac0bbdbca70e8144c/12f09/create-project1.png 148w,
/static/7a8fdc2f383bd29ac0bbdbca70e8144c/e4a3f/create-project1.png 295w,
/static/7a8fdc2f383bd29ac0bbdbca70e8144c/fcda8/create-project1.png 590w,
/static/7a8fdc2f383bd29ac0bbdbca70e8144c/efc66/create-project1.png 885w,
/static/7a8fdc2f383bd29ac0bbdbca70e8144c/c83ae/create-project1.png 1180w,
/static/7a8fdc2f383bd29ac0bbdbca70e8144c/5148a/create-project1.png 1228w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/54eee1bb047369c81dd89d9f61bc646e/5148a/create-project2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2klEQVQoz5WSaxLCIAyEey4t5dWElmqd8Qbe/xBrqK1THKr4Y4chgS+bQOM4gscIRwHaepw7g1bbQ5XyWyytjXYetmdwnOA4CJgXeCaJW4mXgGmfAY0nAdLqkt/AVMT4fieqc7gd1o6gjMuSJR25zB3SAE0TOpdcmAWsjF3Xl1pTOcPUmucBcb4hTBfQMKIPH5KYD0NtyyTAgHidV2BcCiRAJjlTBdyCnXyZfYslVQGPhv/Po+zBza+P/M3NSWmclRJpnNZ986tqSelymilf7lDzAxTlQcdpmf8TgKaBMykC5I0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;create project2&quot;
        title=&quot;create project2&quot;
        src=&quot;/static/54eee1bb047369c81dd89d9f61bc646e/fcda8/create-project2.png&quot;
        srcset=&quot;/static/54eee1bb047369c81dd89d9f61bc646e/12f09/create-project2.png 148w,
/static/54eee1bb047369c81dd89d9f61bc646e/e4a3f/create-project2.png 295w,
/static/54eee1bb047369c81dd89d9f61bc646e/fcda8/create-project2.png 590w,
/static/54eee1bb047369c81dd89d9f61bc646e/efc66/create-project2.png 885w,
/static/54eee1bb047369c81dd89d9f61bc646e/c83ae/create-project2.png 1180w,
/static/54eee1bb047369c81dd89d9f61bc646e/5148a/create-project2.png 1228w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;지금 프로젝트에서는 이정도만 설치하자.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 381px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a74a451ca1809c5f5dca343e43f8ac19/2add2/create-project3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 168.24324324324326%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACGUlEQVRIx+1W246bMBDlsxJ8wdwNmEuibpas+tJKrfoNVfvtpzNOYRVatJDX3YeRGBgfzrHHMxOYrEBZt8htjaJ2KKrGW0mWFhYyMmTxZguSvETb96ibxls3DN5vhzOqpoXUBmKHBWGUQRRnCHtBmA0I84H8Ew6hxFHqHWCRt0CaDJE9IeuuyNsLTNlDF/1uqdIkN4ZCEQspUFqLxjmYJEEolQ/ayo5j1QxoUmJEMk2OUOk5wAe/weoudtpDSUCR+wyd1XQAEQUkd8FyI+j0HDArqTVc16PpBn+6CaVSqKJdgIqU3iTzC5ad5FBxuvr3NbCl7EDGxU1y9wUitjiK13R5C3Qpd2ao4szLrdselm5NQ/JNmm/ax39PmfdKKb9vKd0aBuLbo+N0F+B8KJPko4xwEMrLPQg9H8oWyXdpI3QMnbfIysoz5ILAFhPjhxh6yVHk968hq9uOqo/z4I/tISUzO1yyKtdSpTl5tix9a+osAM3qoofy8H8vt+Tg2sGsMtx7l1cZ7qqBH4AfgO8S8NVuPXlpy2litac8wmyN7QzIJZ9rIBs/c53kns1twY8rfhgyc8zki7/rpjXBxM5RYX0arzhfRqrcDmE1Qr38QvP1N8T40/sVjXv8/dPzFZZGPW4VjgaDp/EF3YkGBPJnwJwqtutvk0NBg1OY0wQ2fId9/gHZf4MgPytK/2O2jBZzh+R1vMY2zvt/ANLNpCqygeCAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;create project3&quot;
        title=&quot;create project3&quot;
        src=&quot;/static/a74a451ca1809c5f5dca343e43f8ac19/2add2/create-project3.png&quot;
        srcset=&quot;/static/a74a451ca1809c5f5dca343e43f8ac19/12f09/create-project3.png 148w,
/static/a74a451ca1809c5f5dca343e43f8ac19/e4a3f/create-project3.png 295w,
/static/a74a451ca1809c5f5dca343e43f8ac19/2add2/create-project3.png 381w&quot;
        sizes=&quot;(max-width: 381px) 100vw, 381px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 api, config 패키지를 다음과 같이 생성하자
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 335px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e8f5d0b76e218fb4cc60974b6599e546/c0051/folder1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADD0lEQVRIx51V2U7bQBT1P9A+VH3pC0uBComtJPFuj7exx0uclYBo1PL/f3B67ySmgIKS9OFo7PHcM+euNsIoQXP/BDlfYjRfQMQJHF8gjNMX+CLWCOhZJJneC8iOEa732KZvuTDi0MJw2uL3OMOyCtCOKoyHBfLMR5EFtHagdxkSgpdv3XdeZeojS4gw8B1IGeOpSbEY5pgQeVVKiNCBEO5bhGtseI4Ew4NxZ5Ihya6mj8hHc8hCwQ0EeiS/b3t7ghT2rRVhM56hGk2Rl7UmHdBH0/H2hiYMohjD2QItwfN89Eh1R7gvscEGLDWiTFXjOUrKeFWWOnt82XuDbRcYL0rIOJYFosUfRLNfyDKp95m0wy6qjdeHLIKbSESTR9TtmGov0gnyw0jXnOMHuyvUaujZdj0k5H49XUDVLXJVoahqQqNjzcXbCdgETTh45Qavd6YNj1SNH8j1ooRF+71XLq/ObSY1THaVDnQY2JR1clXVQ7TzByRpBkXqbJ19mxTaejWdt3YdjK8XFg7ObHw6/4cDXs9MfLkU+CaX+O4onJg5TqwVTu0Cn3+sz72DcXpr4+jGwTHh6NrB4ZWNw0sThz8DnKsprtMReqKEmdToC4WLgcCVk+Dk1tXnj2/ewrBJukOJ4NXzfT1t4oQmDCWmWT6jppqUeaEhKCkmuWxSWNhmE4y+DiYH2kec5Tp28/sJirKiWsx1bXINruLnrBO4LcsE7ueipV5+fIZSSl/QWxf05k5xP65Dvj0pKuTNGKoZoRqOkJC6jqy7dPdeXhMqIiyokCVNnIIQUjw39fNWQlYoywZqONad0Sn0QvGf04YI47xE2U60srJu4FEPm/bHsdqqMCOXecgyYV5WunfFByNsK+GAastRLdLZEwqa1kye0Pjii/YdtHpi9/omRFEjbSZUwIriWCKRinq41kNiH1KDZ11YSGSUCKXdrfUw4MRwLG3X30upwdMkn86Q0B8vJ3d59sXkruTyodG1+pknsIh4J4Xcv34zRzB5QkyGKfUstyCT8n8mlUonyPXDnQj/An3rvcg10a6/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;folder1&quot;
        title=&quot;folder1&quot;
        src=&quot;/static/e8f5d0b76e218fb4cc60974b6599e546/c0051/folder1.png&quot;
        srcset=&quot;/static/e8f5d0b76e218fb4cc60974b6599e546/12f09/folder1.png 148w,
/static/e8f5d0b76e218fb4cc60974b6599e546/e4a3f/folder1.png 295w,
/static/e8f5d0b76e218fb4cc60974b6599e546/c0051/folder1.png 335w&quot;
        sizes=&quot;(max-width: 335px) 100vw, 335px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;// SecurityConfig.class
@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;그리고 어떤 요청을 해보면 다음과 같이 401에러를 내려준다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a20b97e823bafceb604dde4448a2d39/66caf/api-call1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABk0lEQVQoz4VRS5bTMBD0OZJJMs5g2dbHkizLku3ECTOzYgEnYMMFeKy4DcfhWkVLJI/ZAIt6avWnuru6WNcL1nXFPM/w3mNZFhitwTmHECIj2W//Iv2FRPXlBx6+/QT79B3XU8Tl+ozi5XrBeZkzUZwifPCIMUKZDm5wML2FHwaMYUTf9xkuvw785TPYh68w60dcxh7v1zOK1fc4EYlSClJK6syzLaSApknlzX+PJyR/T41kfYSsDlCcQbYNgh9QsLalBIOa1ajrP2CM5WnSism+x1nFYIzBNE0kgyBfi4Ze2dSItFExjz4XKt3B2j6vqo2Gcy5PkwhVRz5L01qV48YadPRPeUorBKMwKI6JZClezzNOpyUfZCLtxhhy9zHQS4eK44jgLElA5IpWvuG3rbKtCZHWjVRbsKa5JXTgSTuSQJGOnDRJiZrshlUoyxLH4/GfSEMVKXG320OGFdYH2LaCqJ7w9HjAu/KAqnzEw25HOX/Hfr/HZrPJh8uEJbE32mXxDxRMDRLJHangf9hut/lYvwCLohJxT4SiYQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;api call1&quot;
        title=&quot;api call1&quot;
        src=&quot;/static/0a20b97e823bafceb604dde4448a2d39/fcda8/api-call1.png&quot;
        srcset=&quot;/static/0a20b97e823bafceb604dde4448a2d39/12f09/api-call1.png 148w,
/static/0a20b97e823bafceb604dde4448a2d39/e4a3f/api-call1.png 295w,
/static/0a20b97e823bafceb604dde4448a2d39/fcda8/api-call1.png 590w,
/static/0a20b97e823bafceb604dde4448a2d39/66caf/api-call1.png 853w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
기본적으로 모든 요청에 인증이 필요하기 때문이다. 앞으로 method를 오버라이드해서
설정들을 변경해볼 것이다.&lt;/p&gt;
&lt;h3 id=&quot;인증authentication&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B8%EC%A6%9Dauthentication&quot; aria-label=&quot;인증authentication permalink&quot; class=&quot;anchor-header before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;#%EC%9D%B8%EC%A6%9Dauthentication&quot; aria-label=&quot;인증authentication permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;인증(Authentication)&lt;/h3&gt;
&lt;p&gt;우선 로그인 과정부터 생각해 보자.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;json&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;{
 &amp;quot;email&amp;quot; : &amp;quot;any@abc.com&amp;quot;,
 &amp;quot;password&amp;quot; : &amp;quot;1234&amp;quot;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;ol&gt;
&lt;li&gt;프론트에서는 /api/auth/login 으로 위와 같은 json을 보낸다.  &lt;/li&gt;
&lt;li&gt;Security filter chain에서 &quot;특정 filter&quot;에서 해당 정보를 AuthenticationToken으로 만들어서
AuthenticationManager한테 전달 한 후 인증해달라고 한다.&lt;/li&gt;
&lt;li&gt;AuthenticationManager는 현재 등록되어있는 Provider들한테 인증요청한다.  &lt;/li&gt;
&lt;li&gt;Provider는 UserDetailService한테 DB에 존재하는지 존재하면 UserDetails를 반환해달라고 한다.&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt; 여기서 &quot;특정 filter&quot;로는 AbstractAuthenticationProcessingFilter를 상속받은 JwtAuthenticationFilter를 만들었다. 그 뒤
attemptAuthentication메소드를 재정의 해주면 된다.&lt;/p&gt;
&lt;p&gt;이 필터의 역활은 자기가 가지고있는 AuthenticationManager한테 (인증되지 않은)Authentication을 넘기면서 인증 해달라고 요청
한 뒤 결과로 (인증된) Authentication을 받아서 successfulAuthentication를 호출하고 다음필터로 넘어간다. 그전에 에러가
발생하면 unsuccessfulAuthentication를 호출한다.&lt;/p&gt;
&lt;p&gt;우선 사용자의 로그인 정보를 담을 DTO를 생성하자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@Getter
@NoArgsConstructor
public class LoginRequestDTO {
    private String email;
    private String password;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음으로 Authentication 인터페이스의 구현체인 AbstractAuthenticationToken을 상속받은 JwtAuthenticationToken을 만들자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;public class JwtAuthenticationToken extends AbstractAuthenticationToken {
    private final Object principal;
    private final String credentials;

    public JwtAuthenticationToken(Collection&amp;lt;? extends GrantedAuthority&amp;gt; authorities,Object principal, String credentials) {
        super(authorities);
        setAuthenticated(true);
        this.principal = principal;
        this.credentials = credentials;
    }

    public JwtAuthenticationToken(Object principal, String credentials) {
        super(null);
        setAuthenticated(false);
        this.principal = principal;
        this.credentials = credentials;
    }

    @Override
    public Object getCredentials() {
        return null;
    }

    @Override
    public Object getPrincipal() {
        return null;
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;그리고 attemptAuthentication 추상 메소드를 override해서 구현해주자.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 589px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6bff064fcd41f95f89cfb4739226d8a6/b1665/implement.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAxklEQVQY023I206DQBRGYV7GtIgVQk1UCu2IMBxmbBC1jY2nm8pr2MTExPadlwN4YYIXX/a/l5XmiqzUyEKTZgW5WpLmJeHiakBcSzx/im3bOM6J4QxYcZIg4phESuZCMIuiThCGA7Nojuu5jEdHHNujf4yx1O2GsnpE1RuymxVSPxgr8mVrbdq66+1uTS8EE+8c1w849S//CJi4Z1hVc6B+//61567Zd7du+t26N6pt3/XrJ+XzDvXSK5525v9Av32x0Ft+AGPBkiPA3R6wAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;implement&quot;
        title=&quot;implement&quot;
        src=&quot;/static/6bff064fcd41f95f89cfb4739226d8a6/b1665/implement.png&quot;
        srcset=&quot;/static/6bff064fcd41f95f89cfb4739226d8a6/12f09/implement.png 148w,
/static/6bff064fcd41f95f89cfb4739226d8a6/e4a3f/implement.png 295w,
/static/6bff064fcd41f95f89cfb4739226d8a6/b1665/implement.png 589w&quot;
        sizes=&quot;(max-width: 589px) 100vw, 589px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;public class JwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter {
    private static final String ERROR_MESSAGE = &amp;quot;Something went wrong while parsing /login request body&amp;quot;;
    ObjectMapper objectMapper;

    protected JwtAuthenticationFilter(ObjectMapper objectMapper) {
        super(new AntPathRequestMatcher(&amp;quot;/api/auth/login&amp;quot;, &amp;quot;POST&amp;quot;));
        this.objectMapper = objectMapper;
    }

    @Override
    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException, IOException, ServletException {
        if (!request.getMethod().equals(&amp;quot;POST&amp;quot;)) {
            throw new AuthenticationServiceException(
                    &amp;quot;Authentication method not supported: &amp;quot; + request.getMethod());
        }
        try {
            LoginRequestDTO credentials = objectMapper.readValue(request.getInputStream(),LoginRequestDTO.class);
            JwtAuthenticationToken authenticationToken = new JwtAuthenticationToken(
                    credentials.getEmail(),
                    credentials.getPassword()
            );
            Authentication auth = this.getAuthenticationManager().authenticate(authenticationToken);
            return auth;
        }catch (IOException e){
            throw new InternalAuthenticationServiceException(ERROR_MESSAGE, e);
        }
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;여기서 눈여겨 보아야 할 점은 JwtAuthenticationToken을 만들어서 AuthenticationManager한테 authenticate해달라고 요청 하는
부분이다.
SecurityConfig에서 AuthenticationManager를 등록해야한다. 그리고 기타 설정들을 추가하자&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot;  terminal=&quot;carbon&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;@RequiredArgsConstructor
@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {
    private final CustomUserDetailsService customUserDetailsService;
    private final ObjectMapper objectMapper;
    private final SecurityHandler securityHandler;
    private final CustomAuthenticationEntryPoint customAuthenticationEntryPoint;
    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.authenticationProvider(authenticationProvider());
    }

    @Override
    public void configure(WebSecurity web) throws Exception {
        web.ignoring()
                .antMatchers(&amp;quot;/resources/**&amp;quot;)
                .antMatchers(&amp;quot;/css/**&amp;quot;)
                .antMatchers(&amp;quot;/vendor/**&amp;quot;)
                .antMatchers(&amp;quot;/js/**&amp;quot;)
                .antMatchers(&amp;quot;/favicon*/**&amp;quot;)
                .antMatchers(&amp;quot;/img/**&amp;quot;)
        ;
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.headers().frameOptions().disable();
        http
                // remove csrf and state in session because in jwt we do not need them
                .csrf().disable()
                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)
                .and()
                // add jwt filters (1. authentication, 2. authorization)
                .addFilter(jwtAuthenticationFilter())
                .addFilter(jwtAuthorizationFilter())
                .authorizeRequests()
                // configure access rules
                .antMatchers(HttpMethod.POST, &amp;quot;/api/auth/**&amp;quot;).permitAll()
                .antMatchers(&amp;quot;/h2-console/**&amp;quot;).permitAll()
                .antMatchers(&amp;quot;/api/public/management/*&amp;quot;).hasRole(&amp;quot;MANAGER&amp;quot;)
                .antMatchers(&amp;quot;/api/public/admin/*&amp;quot;).hasRole(&amp;quot;ADMIN&amp;quot;)
                .anyRequest().authenticated()
                .and()
                .exceptionHandling()
                .authenticationEntryPoint(customAuthenticationEntryPoint);
    }

    @Bean
    public AuthenticationProvider authenticationProvider() {
        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();
        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());
        daoAuthenticationProvider.setUserDetailsService(customUserDetailsService);
        return daoAuthenticationProvider;
    }

    @Bean
    public JwtAuthenticationFilter jwtAuthenticationFilter() throws Exception {
        JwtAuthenticationFilter filter = new JwtAuthenticationFilter(objectMapper);
        filter.setAuthenticationManager(authenticationManager());
        filter.setAuthenticationSuccessHandler(securityHandler);
        filter.setAuthenticationFailureHandler(securityHandler);
        filter.afterPropertiesSet();
        filter.setFilterProcessesUrl(&amp;quot;/api/auth/signin&amp;quot;);
        return filter;
    }
    @Bean
    public JwtAuthorizationFilter jwtAuthorizationFilter () throws Exception {
        JwtAuthorizationFilter filter = new JwtAuthorizationFilter(authenticationManager(),customUserDetailsService);
        return filter;
    }
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;blockquote&gt;
&lt;p&gt;6/6 UsernamePasswordAuthenticationFilter 대신에 이 필터의 부모클래스인 AbstractAuthenticationProcessingFilter를 상속받아
새로만들었는데(JwtAuthenticationFilter) 위와 같이 해주면 오류가난다 ㅠㅠ 왜냐면 기본으로 filterChain에 등록된 UsernamePasswordAuthenticationFilter
를 갈아끼우는게 안되기 때문!
대신 .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)요걸로 바꿔주면
다시 작동한다. ㅠㅠ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;여기서 아직 구현하지 않은 것들이 있는데 만들어야 할 것들에는 &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Provider 구현체 DaoAuthenticationProvider&lt;/li&gt;
&lt;li&gt;AuthenticationEntryPoint 구현체 CustomAuthenticationEntryPoint&lt;/li&gt;
&lt;li&gt;header인증을 위한 BasicAuthenticationFilter 구현체 JwtAuthorizationFilter&lt;/li&gt;
&lt;li&gt;User Entity 및 UserPrincipal &lt;/li&gt;
&lt;li&gt;UserDetailsService 구현체 CustomUserDetailsService&lt;/li&gt;
&lt;li&gt;ErrorResponseDTO&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;는 다음포스트에서 만들자&lt;/p&gt;</content:encoded></item><item><title><![CDATA[StyledComponent v4 빌드 에러 및 nextjs에서 v5 이슈]]></title><description><![CDATA[오늘 업무를 하던 도중 styled-components v4버전 대에 build할 때 에러가 있었고 그에러가 뭐였는지 기억이 안나는데
대충 깃헙이슈를 보니 v5 최신버전을 설치하거나 특정 type을 삭제하고 @type…]]></description><link>https://jiinwoo.github.io/styled-components-build-error-with-nextjs/</link><guid isPermaLink="false">https://jiinwoo.github.io/styled-components-build-error-with-nextjs/</guid><pubDate>Sat, 23 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;오늘 업무를 하던 도중 styled-components v4버전 대에 build할 때 에러가 있었고 그에러가 뭐였는지 기억이 안나는데
대충 깃헙이슈를 보니 v5 최신버전을 설치하거나 특정 type을 삭제하고 @type에 커스텀해서 추가하라는데 귀찮아서
그냥 v5를 새로설치했다. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;사실 앞 버전 올리는데 그냥 올리면 무슨일이 터질까 매우 고민을 했지만 v5 release 문서를 보면 &lt;a href=&quot;https://styled-components.com/releases&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&quot;no breaking changes!&quot;&lt;/a&gt;
라는데 큰 변화없이 속도향상을 줄수있다고 적혀있다. 그래서 그냥 업데이트 했다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;그래서 설치하고 release branch에 배포했는데 html, body 등등 전역에 지정한 createGlobalStyle 메소드가 제대로 적용되지 않았다.&lt;/p&gt;
&lt;p&gt;현재 v5 styled-components의 createGlobalStyle을 next js 의 _document.tsx 내에 next/head 컴포넌트 안에서 렌더링할 때
적용이 되지않는 문제가 있었다. &lt;/p&gt;
&lt;p&gt;여러가지 구글링을 해본 결과 _app.tsx에 createGlobalStyle을 적용해서 해결했다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;지금 styled-components github issue 가보면 이 관련 이슈가 꽤 있는것 같다 나는 귀찮아서 그냥 넘어갔지만 얼른 누가 해결해줬으면
좋겠다. &lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item></channel></rss>